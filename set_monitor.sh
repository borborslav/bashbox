#!/bin/bash

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–≤–æ–¥—É –ø—ñ–¥–∫–∞–∑–∫–∏
usage() {
    echo "–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: $0 <–∫–æ–Ω—Ç—Ä–∞—Å—Ç (0‚Äì100)> <—è—Å–∫—Ä–∞–≤—ñ—Å—Ç—å (0‚Äì100)>"
    echo "–ü—Ä–∏–∫–ª–∞–¥: $0 70 80"
    exit 1
}

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
if [ $# -ne 2 ]; then
    usage
fi

CONTRAST=$1
BRIGHTNESS=$2

# –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —á–∏ —á–∏—Å–ª–æ –≤—ñ–¥ 0 –¥–æ 100
is_valid_percent() {
    [[ "$1" =~ ^[0-9]+$ ]] && [ "$1" -ge 0 ] && [ "$1" -le 100 ]
}

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±–æ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
if ! is_valid_percent "$CONTRAST" || ! is_valid_percent "$BRIGHTNESS"; then
    echo "–ü–æ–º–∏–ª–∫–∞: –ó–Ω–∞—á–µ–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —Ü—ñ–ª–∏–º–∏ —á–∏—Å–ª–∞–º–∏ –≤—ñ–¥ 0 –¥–æ 100."
    usage
fi

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∞
for DISPLAY in 1 2 3; do
    echo "üì∫ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∞ --display $DISPLAY:"
    ddcutil --display $DISPLAY setvcp 12 $CONTRAST
    ddcutil --display $DISPLAY setvcp 10 $BRIGHTNESS
done

